<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4ê°€ì§€ ì„ êµ DNA | Mission DNA Test</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Playfair+Display:wght@600;700&display=swap"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {
            --primary: #1a365d;
            --primary-light: #2c5282;
            --accent: #ed8936;
            --accent-light: #fbd38d;
            --bg-cream: #fdf6e9;
            --bg-warm: #fef3e2;
            --text-dark: #1a202c;
            --text-muted: #4a5568;
            --white: #ffffff;
            --shadow: 0 10px 40px rgba(26, 54, 93, 0.15);
            --shadow-soft: 0 4px 20px rgba(26, 54, 93, 0.08);

            --soteriological: #C53030;
            --participatory: #2F855A;
            --contextual: #2B6CB0;
            --sacramental: #6B46C1;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--bg-cream);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.4;
            background-image:
                radial-gradient(circle at 20% 80%, rgba(237, 137, 54, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(26, 54, 93, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(251, 211, 141, 0.15) 0%, transparent 40%);
        }

        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .floating-icon {
            position: absolute;
            font-size: 2rem;
            opacity: 0.15;
            animation: float 20s ease-in-out infinite;
        }

        .floating-icon:nth-child(1) {
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .floating-icon:nth-child(2) {
            top: 60%;
            right: 15%;
            animation-delay: -5s;
            font-size: 1.5rem;
        }

        .floating-icon:nth-child(3) {
            bottom: 20%;
            left: 20%;
            animation-delay: -10s;
            font-size: 1.8rem;
        }

        @keyframes float {

            0%,
            100% {
                transform: translate(0, 0) rotate(0deg);
            }

            25% {
                transform: translate(20px, -20px) rotate(5deg);
            }

            50% {
                transform: translate(0, -40px) rotate(0deg);
            }

            75% {
                transform: translate(-20px, -20px) rotate(-5deg);
            }
        }

        .container {
            position: relative;
            z-index: 10;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .card {
            background: var(--white);
            border-radius: 24px;
            box-shadow: var(--shadow);
            padding: 48px 40px;
            text-align: center;
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        .landing-icon {
            font-size: 4rem;
            margin-bottom: 24px;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .landing-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: var(--white);
            padding: 8px 20px;
            border-radius: 30px;
            font-size: 0.85rem;
            font-weight: 500;
            letter-spacing: 2px;
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        .landing-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 12px;
            line-height: 1.3;
        }

        .landing-subtitle {
            font-size: 1.1rem;
            color: var(--text-muted);
            margin-bottom: 28px;
        }

        .landing-verse {
            background: var(--bg-warm);
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 24px;
            border-left: 4px solid var(--accent);
        }

        .landing-verse-text {
            font-size: 0.95rem;
            font-style: italic;
            color: var(--text-dark);
            line-height: 1.7;
            margin-bottom: 8px;
        }

        .landing-verse-ref {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .landing-description {
            background: var(--bg-warm);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 36px;
            line-height: 1.8;
            color: var(--text-dark);
            font-size: 0.95rem;
        }

        .landing-description strong {
            color: var(--primary);
        }

        .start-btn {
            background: linear-gradient(135deg, var(--accent) 0%, #dd6b20 100%);
            color: var(--white);
            border: none;
            padding: 18px 48px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(237, 137, 54, 0.35);
            font-family: 'Noto Sans KR', sans-serif;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(237, 137, 54, 0.45);
        }

        .powered-by {
            margin-top: 32px;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .progress-container {
            margin-bottom: 32px;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .progress-number {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }

        .progress-total {
            font-size: 1rem;
            color: var(--text-muted);
        }

        .progress-bar {
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent) 0%, var(--accent-light) 100%);
            border-radius: 3px;
            transition: width 0.4s ease;
        }

        .question-text {
            font-size: 1.25rem;
            font-weight: 500;
            color: var(--text-dark);
            line-height: 1.7;
            margin-bottom: 32px;
            min-height: 80px;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-btn {
            background: var(--white);
            border: 2px solid #e2e8f0;
            padding: 18px 24px;
            border-radius: 14px;
            font-size: 1rem;
            color: var(--text-dark);
            cursor: pointer;
            transition: all 0.25s ease;
            text-align: left;
            font-family: 'Noto Sans KR', sans-serif;
            line-height: 1.5;
        }

        .option-btn:hover {
            border-color: var(--accent);
            background: var(--bg-warm);
            transform: translateX(5px);
        }

        .loading-card {
            padding: 60px 40px;
        }

        .loading-icon {
            font-size: 3.5rem;
            margin-bottom: 28px;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }

        .loading-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.6rem;
            color: var(--primary);
            margin-bottom: 16px;
        }

        .loading-subtitle {
            color: var(--text-muted);
            font-size: 0.95rem;
        }

        .loading-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 32px;
        }

        .loading-dot {
            width: 10px;
            height: 10px;
            background: var(--accent);
            border-radius: 50%;
            animation: dotPulse 1.4s ease-in-out infinite;
        }

        .loading-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .loading-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes dotPulse {

            0%,
            80%,
            100% {
                transform: scale(0.6);
                opacity: 0.5;
            }

            40% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .result-card {
            padding: 48px 36px;
        }

        .result-icon {
            font-size: 3.5rem;
            margin-bottom: 16px;
        }

        .result-badge {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .result-badge.soteriological {
            background: rgba(197, 48, 48, 0.1);
            color: var(--soteriological);
        }

        .result-badge.participatory {
            background: rgba(47, 133, 90, 0.1);
            color: var(--participatory);
        }

        .result-badge.contextual {
            background: rgba(43, 108, 176, 0.1);
            color: var(--contextual);
        }

        .result-badge.sacramental {
            background: rgba(107, 70, 193, 0.1);
            color: var(--sacramental);
        }

        .result-type {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .result-type.soteriological {
            color: var(--soteriological);
        }

        .result-type.participatory {
            color: var(--participatory);
        }

        .result-type.contextual {
            color: var(--contextual);
        }

        .result-type.sacramental {
            color: var(--sacramental);
        }

        .result-summary {
            font-size: 1.1rem;
            color: var(--text-muted);
            font-style: italic;
            margin-bottom: 28px;
            padding: 0 10px;
        }

        .result-section {
            background: var(--bg-warm);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 16px;
            text-align: left;
        }

        .result-section-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-section-content {
            font-size: 0.95rem;
            color: var(--text-dark);
            line-height: 1.7;
        }

        .result-verse {
            background: var(--bg-warm);
            border-left: 4px solid var(--accent);
            border-radius: 0 16px 16px 0;
            padding: 20px 24px;
            margin: 20px 0;
            text-align: left;
        }

        .result-verse-text {
            font-size: 0.95rem;
            font-style: italic;
            color: var(--text-dark);
            line-height: 1.7;
            margin-bottom: 8px;
        }

        .result-verse-ref {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .result-tip {
            background: linear-gradient(135deg, rgba(237, 137, 54, 0.1) 0%, rgba(251, 211, 141, 0.15) 100%);
            border-radius: 16px;
            padding: 20px 24px;
            margin-top: 16px;
            text-align: left;
        }

        .result-tip-title {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 10px;
        }

        .result-tip-content {
            font-size: 0.9rem;
            color: var(--text-dark);
            line-height: 1.7;
        }

        .result-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 32px;
        }

        .action-btn {
            padding: 14px 24px;
            border-radius: 12px;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.25s ease;
            font-family: 'Noto Sans KR', sans-serif;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .action-btn.primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: var(--white);
        }

        .action-btn.secondary {
            background: var(--white);
            color: var(--primary);
            border: 2px solid #e2e8f0;
        }

        .action-btn.donate {
            background: linear-gradient(135deg, var(--accent) 0%, #dd6b20 100%);
            color: var(--white);
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-soft);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(26, 54, 93, 0.6);
            backdrop-filter: blur(4px);
            z-index: 100;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: var(--white);
            border-radius: 24px;
            max-width: 500px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            padding: 36px;
            animation: modalSlide 0.3s ease-out;
        }

        @keyframes modalSlide {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(20px);
            }

            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .modal-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--primary);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-muted);
            padding: 8px;
        }

        .modal-close:hover {
            color: var(--text-dark);
        }

        .type-card {
            border-radius: 14px;
            padding: 20px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.25s ease;
            border-left: 4px solid;
        }

        .type-card.soteriological {
            background: rgba(197, 48, 48, 0.05);
            border-color: var(--soteriological);
        }

        .type-card.participatory {
            background: rgba(47, 133, 90, 0.05);
            border-color: var(--participatory);
        }

        .type-card.contextual {
            background: rgba(43, 108, 176, 0.05);
            border-color: var(--contextual);
        }

        .type-card.sacramental {
            background: rgba(107, 70, 193, 0.05);
            border-color: var(--sacramental);
        }

        .type-card:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow-soft);
        }

        .type-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .type-card-icon {
            font-size: 1.5rem;
        }

        .type-card-name {
            font-weight: 600;
        }

        .type-card-name.soteriological {
            color: var(--soteriological);
        }

        .type-card-name.participatory {
            color: var(--participatory);
        }

        .type-card-name.contextual {
            color: var(--contextual);
        }

        .type-card-name.sacramental {
            color: var(--sacramental);
        }

        .type-card-desc {
            font-size: 0.9rem;
            color: var(--text-muted);
            line-height: 1.5;
        }

        @media (max-width: 480px) {
            .card {
                padding: 36px 24px;
            }

            .landing-title {
                font-size: 1.8rem;
            }

            .question-text {
                font-size: 1.1rem;
            }

            .result-type {
                font-size: 1.6rem;
            }
        }
    </style>
</head>

<body>
    <div class="bg-pattern"></div>
    <div class="floating-elements">
        <div class="floating-icon">âœˆï¸</div>
        <div class="floating-icon">ğŸŒ</div>
        <div class="floating-icon">âœï¸</div>
    </div>

    <div class="container">
        <div id="landing-screen" class="screen active">
            <div class="card">
                <div class="landing-icon">âœˆï¸</div>
                <div class="landing-badge">Mission DNA Test</div>
                <h1 class="landing-title">4ê°€ì§€ ì„ êµ DNA</h1>
                <p class="landing-subtitle">ë‚˜ì˜ ì„ êµ DNAë¥¼ ë°œê²¬í•˜ì„¸ìš”</p>
                <div class="landing-verse">
                    <p class="landing-verse-text">"ê·¸ëŸ¬ë¯€ë¡œ ë„ˆí¬ëŠ” ê°€ì„œ ëª¨ë“  ë¯¼ì¡±ì„ ì œìë¡œ ì‚¼ì•„ ì•„ë²„ì§€ì™€ ì•„ë“¤ê³¼ ì„±ë ¹ì˜ ì´ë¦„ìœ¼ë¡œ ì„¸ë¡€ë¥¼ ë² í’€ê³ "</p>
                    <p class="landing-verse-ref">â€” ë§ˆíƒœë³µìŒ 28:19</p>
                </div>
                <div class="landing-description">
                    ì„ êµë¥¼ ì•ë‘” ë‹¹ì‹ !<br><br>
                    <strong>10ê°€ì§€ ì§ˆë¬¸</strong>ì„ í†µí•´<br>
                    ë‚˜ë§Œì˜ ì„ êµ DNAë¥¼ ë°œê²¬í•˜ê³ <br>
                    ì„ êµì§€ì—ì„œ ë” íš¨ê³¼ì ìœ¼ë¡œ ì„¬ê¸¸ ì¤€ë¹„ë¥¼ í•˜ì„¸ìš”.
                </div>
                <button class="start-btn" onclick="startTest()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
                <p class="powered-by">Powered by ë¯¸ì…”ë„ì‹ í•™ì—°êµ¬ì†Œ</p>
            </div>
        </div>

        <div id="question-screen" class="screen">
            <div class="card">
                <div class="progress-container">
                    <div class="progress-text">
                        <span class="progress-number"><span id="current-q">01</span></span>
                        <span class="progress-total">/ 10</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 10%"></div>
                    </div>
                </div>
                <h2 class="question-text" id="question-text">ì§ˆë¬¸ ë¡œë”© ì¤‘...</h2>
                <div class="options-container" id="options-container"></div>
            </div>
        </div>

        <div id="loading-screen" class="screen">
            <div class="card loading-card">
                <div class="loading-icon">ğŸ•Šï¸</div>
                <h2 class="loading-title">ì„ êµ DNA ë¶„ì„ ì¤‘...</h2>
                <p class="loading-subtitle">ë‹¹ì‹ ì˜ ì‘ë‹µì„ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
                <div class="loading-dots">
                    <div class="loading-dot"></div>
                    <div class="loading-dot"></div>
                    <div class="loading-dot"></div>
                </div>
            </div>
        </div>

        <div id="result-screen" class="screen">
            <div class="card result-card" id="result-card">
                <div class="result-icon" id="result-icon">âœï¸</div>
                <div class="result-badge" id="result-badge">ë‚˜ì˜ ì„ êµ DNA</div>
                <h2 class="result-type" id="result-type">ê²°ê³¼ ìœ í˜•</h2>
                <p class="result-summary" id="result-summary">"ìš”ì•½ ë¬¸êµ¬"</p>
                <div class="result-section">
                    <div class="result-section-title">ğŸ“– ì´ DNAì˜ íŠ¹ì§•</div>
                    <p class="result-section-content" id="result-feature">íŠ¹ì§• ì„¤ëª…</p>
                </div>
                <div class="result-section">
                    <div class="result-section-title">ğŸ’ª ë‹¹ì‹ ì˜ ê°•ì </div>
                    <p class="result-section-content" id="result-strength">ê°•ì  ì„¤ëª…</p>
                </div>
                <div class="result-verse">
                    <p class="result-verse-text" id="result-verse-text">ì„±ê²½ êµ¬ì ˆ</p>
                    <p class="result-verse-ref" id="result-verse-ref">â€” êµ¬ì ˆ ì¶œì²˜</p>
                </div>
                <div class="result-tip">
                    <div class="result-tip-title">ğŸ’¡ ì„ êµ Tip</div>
                    <p class="result-tip-content" id="result-tip">ì„ êµ íŒ</p>
                </div>
                <p class="powered-by">Powered by ë¯¸ì…”ë„ì‹ í•™ì—°êµ¬ì†Œ</p>
                <div class="result-actions">
                    <button class="action-btn primary" id="save-image-btn">ğŸ“· ê²°ê³¼ ì´ë¯¸ì§€ ì €ì¥</button>
                    <button class="action-btn secondary" id="share-btn">ğŸ”— ê³µìœ í•˜ê¸°</button>
                    <button class="action-btn secondary" id="show-all-btn">ğŸ‘€ ë‹¤ë¥¸ ìœ í˜• ì „ì²´ ë³´ê¸°</button>
                    <button class="action-btn secondary" id="restart-btn">ğŸ”„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•˜ê¸°</button>
                    <a href="https://www.imt.or.kr/give" target="_blank" class="action-btn donate"
                        style="text-decoration:none;">ğŸ’ ë¯¸ì…”ë„ì‹ í•™ì—°êµ¬ì†Œ í›„ì›í•˜ê¸°</a>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modal-overlay">
        <div class="modal-content" id="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">4ê°€ì§€ ì„ êµ DNA</h3>
                <button class="modal-close" id="modal-close-btn">âœ•</button>
            </div>
            <div id="all-types-container"></div>
        </div>
    </div>

    <script>
        var questions = [
            {
                text: "ì„ êµì—ì„œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì€?", options: [
                    { text: "í˜„ì§€ì¸ë“¤ì´ ì˜ˆìˆ˜ë‹˜ì„ ì˜ì ‘í•˜ê³  êµ¬ì›ë°›ëŠ” ê²ƒ", type: "soteriological" },
                    { text: "í•˜ë‚˜ë‹˜ì˜ ì„ êµì— ë™ì°¸í•˜ì—¬ ë‹¤ì–‘í•œ í•„ìš”ë¥¼ ì±„ìš°ëŠ” ê²ƒ", type: "participatory" },
                    { text: "í˜„ì§€ ë¬¸í™”ë¥¼ ì´í•´í•˜ê³  ê·¸ì— ë§ëŠ” ë°©ì‹ìœ¼ë¡œ ë³µìŒì„ ì „í•˜ëŠ” ê²ƒ", type: "contextual" },
                    { text: "ì—°ê³„ êµíšŒì™€ ì—°í•©í•˜ì—¬ ì˜ˆë°°ì™€ êµì œì˜ ê³µë™ì²´ë¥¼ ì„¸ìš°ëŠ” ê²ƒ", type: "sacramental" }
                ]
            },
            {
                text: "ì„ êµì§€ì— ë„ì°©í•´ì„œ ì²«ë‚ , ë¬´ì—‡ì„ ê°€ì¥ í•˜ê³  ì‹¶ì€ê°€ìš”?", options: [
                    { text: "ë³µìŒì„ ì „í•  ê¸°íšŒë¥¼ ì°¾ê³  ì˜í˜¼ êµ¬ì›ì„ ìœ„í•´ ê¸°ë„í•œë‹¤", type: "soteriological" },
                    { text: "ì§€ì—­ ì‚¬íšŒì˜ í•„ìš”ë¥¼ íŒŒì•…í•˜ê³  ë´‰ì‚¬ í™œë™ì„ ì¤€ë¹„í•œë‹¤", type: "participatory" },
                    { text: "í˜„ì§€ì¸ë“¤ê³¼ êµë¥˜í•˜ë©° ë¬¸í™”ì™€ ìƒí™©ì„ ë¨¼ì € ì´í•´í•œë‹¤", type: "contextual" },
                    { text: "ì—°ê³„ êµíšŒë¥¼ ë°©ë¬¸í•´ í•¨ê»˜ ì˜ˆë°°í•˜ë©° êµì œí•œë‹¤", type: "sacramental" }
                ]
            },
            {
                text: "ì„ êµ íŒ€ì—ì„œ ì–´ë–¤ ì—­í• ì„ ë§¡ê³  ì‹¶ë‚˜ìš”?", options: [
                    { text: "ì „ë„ì™€ ë³µìŒ ì „íŒŒë¥¼ ë‹´ë‹¹í•˜ëŠ” ì—­í• ", type: "soteriological" },
                    { text: "ë´‰ì‚¬ì™€ êµ¬í˜¸ í™œë™ì„ ê¸°íší•˜ê³  ì‹¤í–‰í•˜ëŠ” ì—­í• ", type: "participatory" },
                    { text: "í˜„ì§€ ì–¸ì–´/ë¬¸í™”ë¥¼ ë°°ìš°ê³  ì†Œí†µì„ ë•ëŠ” ì—­í• ", type: "contextual" },
                    { text: "ì˜ˆë°° ì¸ë„ì™€ íŒ€ì˜ ì˜ì  ë¶„ìœ„ê¸°ë¥¼ ì´ë„ëŠ” ì—­í• ", type: "sacramental" }
                ]
            },
            {
                text: "ì„ êµì§€ì—ì„œ ê°€ì¥ ë³´ëŒì„ ëŠë¼ëŠ” ìˆœê°„ì€?", options: [
                    { text: "ëˆ„êµ°ê°€ ì˜ˆìˆ˜ë‹˜ì„ ì˜ì ‘í•˜ê³  ê²°ì‹ í•  ë•Œ", type: "soteriological" },
                    { text: "ì§€ì—­ ì‚¬íšŒê°€ ì‹¤ì§ˆì ìœ¼ë¡œ ë³€í™”ë˜ëŠ” ê²ƒì„ ë³¼ ë•Œ", type: "participatory" },
                    { text: "í˜„ì§€ì¸ì˜ ì‚¶ê³¼ ë¬¸í™” ì†ì—ì„œ ë³µìŒì´ ìì—°ìŠ¤ëŸ½ê²Œ ì „í•´ì§ˆ ë•Œ", type: "contextual" },
                    { text: "ì—°ê³„ êµíšŒ ì„±ë„ë“¤ê³¼ í•¨ê»˜ ì˜ˆë°°í•˜ê³  í•˜ë‚˜ë¨ì„ ê²½í—˜í•  ë•Œ", type: "sacramental" }
                ]
            },
            {
                text: "ì„ êµ ì¤€ë¹„ ê³¼ì •ì—ì„œ ê°€ì¥ ì§‘ì¤‘í•˜ê³  ì‹¶ì€ ê²ƒì€?", options: [
                    { text: "ë³µìŒ ì „ë„ë²•ê³¼ ì œì ì–‘ìœ¡ ë°©ë²• í›ˆë ¨", type: "soteriological" },
                    { text: "ì§€ì—­ ì‚¬íšŒ í•„ìš” ì¡°ì‚¬ì™€ ë´‰ì‚¬ í”„ë¡œê·¸ë¨ ê¸°íš", type: "participatory" },
                    { text: "í˜„ì§€ ì–¸ì–´, ë¬¸í™”, ì¢…êµì  ë°°ê²½ í•™ìŠµ", type: "contextual" },
                    { text: "ì˜ˆë°° ì¤€ë¹„ì™€ ì˜ì  ê³µë™ì²´ í˜•ì„± í›ˆë ¨", type: "sacramental" }
                ]
            },
            {
                text: "ì„±ê²½ì—ì„œ ê°€ì¥ ë§ˆìŒì— ì™€ë‹¿ëŠ” ì„ êµì˜ ëª¨ìŠµì€?", options: [
                    { text: "ë°”ìš¸ì´ íšŒë‹¹ì—ì„œ ì˜ˆìˆ˜ê°€ ê·¸ë¦¬ìŠ¤ë„ì„ì„ ì¦ê±°í•œ ê²ƒ", type: "soteriological" },
                    { text: "ì´ˆëŒ€êµíšŒê°€ ê°€ë‚œí•œ ìë“¤ì„ ëŒë³´ë©° ì„¬ê¸´ ê²ƒ", type: "participatory" },
                    { text: "ë°”ìš¸ì´ ì•„í…Œë„¤ì—ì„œ ë¬¸í™”ì— ë§ê²Œ ë³µìŒì„ ì „í•œ ê²ƒ", type: "contextual" },
                    { text: "ì˜ˆë£¨ì‚´ë ˜ êµíšŒê°€ ëª¨ì—¬ ë–¡ì„ ë–¼ë©° êµì œí•œ ê²ƒ", type: "sacramental" }
                ]
            },
            {
                text: "ì„ êµ í›„ ê°€ì¥ ë‚¨ê¸°ê³  ì‹¶ì€ ê²ƒì€?", options: [
                    { text: "ìƒˆë¡œìš´ ì‹ ìë“¤ê³¼ ì œì í›ˆë ¨ì˜ ê¸°ì´ˆ", type: "soteriological" },
                    { text: "ì§€ì—­ ì‚¬íšŒì— ì§€ì†ì ìœ¼ë¡œ ì˜í–¥ì„ ì¤„ ì‚¬ì—­ì˜ ì—´ë§¤", type: "participatory" },
                    { text: "í˜„ì§€ì¸ë“¤ê³¼ í˜•ì„±ëœ ê´€ê³„ì™€ ë¬¸í™”ì  ë‹¤ë¦¬", type: "contextual" },
                    { text: "ì—°ê³„ êµíšŒì™€ì˜ ì—°í•©ê³¼ ì§€ì†ì ì¸ êµì œì˜ ê´€ê³„", type: "sacramental" }
                ]
            },
            {
                text: "ì„ êµì§€ì—ì„œ ì–´ë ¤ì›€ì— ë¶€ë”ªí˜”ì„ ë•Œ ì–´ë–»ê²Œ ëŒ€ì²˜í•˜ë‚˜ìš”?", options: [
                    { text: "ë³µìŒ ì „íŒŒë¼ëŠ” í•µì‹¬ ì‚¬ëª…ì— ì§‘ì¤‘í•˜ë©° ì¸ë‚´í•œë‹¤", type: "soteriological" },
                    { text: "í˜„ì§€ì˜ ì‹¤ì œì  í•„ìš”ë¥¼ ì±„ìš°ë©° ê´€ê³„ë¥¼ ìŒ“ì•„ê°„ë‹¤", type: "participatory" },
                    { text: "ìƒí™©ì„ ë¶„ì„í•˜ê³  ë¬¸í™”ì— ë§ëŠ” ìƒˆë¡œìš´ ì ‘ê·¼ë²•ì„ ì°¾ëŠ”ë‹¤", type: "contextual" },
                    { text: "íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ê¸°ë„í•˜ê³  ì˜ˆë°°í•˜ë©° í•˜ë‚˜ë‹˜ê»˜ ì˜ì§€í•œë‹¤", type: "sacramental" }
                ]
            },
            {
                text: "ì„ êµì— ëŒ€í•œ ë‚˜ì˜ í•µì‹¬ ì‹ ë…ì€?", options: [
                    { text: "ì˜í˜¼ êµ¬ì›ì´ ê°€ì¥ ì‹œê¸‰í•˜ê³  ì¤‘ìš”í•œ ì‚¬ëª…ì´ë‹¤", type: "soteriological" },
                    { text: "í•˜ë‚˜ë‹˜ì€ ì°½ì¡°ì„¸ê³„ ì „ì²´ì˜ íšŒë³µì„ ì›í•˜ì‹ ë‹¤", type: "participatory" },
                    { text: "ë³µìŒì€ ê° ë¬¸í™” ì†ì—ì„œ ìƒˆë¡­ê²Œ í‘œí˜„ë˜ì–´ì•¼ í•œë‹¤", type: "contextual" },
                    { text: "êµíšŒëŠ” ì„¸ìƒ ì†ì—ì„œ í•˜ë‚˜ë‹˜ ë‚˜ë¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ê³µë™ì²´ë‹¤", type: "sacramental" }
                ]
            },
            {
                text: "10ë…„ í›„, ì´ë²ˆ ì„ êµê°€ ì–´ë–¤ ëª¨ìŠµìœ¼ë¡œ ê¸°ì–µë˜ê¸¸ ì›í•˜ë‚˜ìš”?", options: [
                    { text: "ë§ì€ ì˜í˜¼ë“¤ì´ êµ¬ì›ë°›ì•„ ì œìê°€ ëœ ì‹œì‘ì ", type: "soteriological" },
                    { text: "ì§€ì—­ ì‚¬íšŒì— ì‹¤ì œì ì¸ ë³€í™”ë¥¼ ê°€ì ¸ì˜¨ ì‚¬ì—­", type: "participatory" },
                    { text: "í˜„ì§€ ë¬¸í™” ì•ˆì—ì„œ í† ì°©í™”ëœ ì‹ ì•™ì˜ ì”¨ì•—", type: "contextual" },
                    { text: "ì—°ê³„ êµíšŒì™€ ì—°í•©í•˜ì—¬ í•¨ê»˜ ì„±ì¥í•œ ê³µë™ì²´", type: "sacramental" }
                ]
            }
        ];

        var missionTypes = {
            soteriological: {
                icon: "âœï¸", name: "êµ¬ì› ì„ êµ", englishName: "Soteriological Mission",
                summary: "ì˜í˜¼ êµ¬ì›ê³¼ ë³µìŒ ì „íŒŒì— ì—´ì •ì„ ê°€ì§„ ì„ êµì",
                feature: "êµ¬ì› ì„ êµ DNAëŠ” ê°œì¸ì˜ ì˜ì  êµ¬ì›ê³¼ ë³µìŒ ì „íŒŒë¥¼ ì„ êµì˜ í•µì‹¬ìœ¼ë¡œ ë´…ë‹ˆë‹¤. ì˜ˆìˆ˜ ê·¸ë¦¬ìŠ¤ë„ë¥¼ í†µí•œ ì£„ ì‚¬í•¨ê³¼ ì˜ìƒì´ ì¸ê°„ì˜ ê°€ì¥ ì‹œê¸‰í•œ í•„ìš”ë¼ê³  ë¯¿ìœ¼ë©°, ì œì í›ˆë ¨ê³¼ êµíšŒ ê°œì²™ì„ í†µí•´ í•˜ë‚˜ë‹˜ ë‚˜ë¼ë¥¼ í™•ì¥í•˜ëŠ” ê²ƒì— ì§‘ì¤‘í•©ë‹ˆë‹¤.",
                strength: "ë‹¹ì‹ ì€ ë³µìŒì˜ ë³¸ì§ˆì„ ëª…í™•íˆ ì´í•´í•˜ê³  ì „ë‹¬í•˜ëŠ” ëŠ¥ë ¥ì´ ìˆìŠµë‹ˆë‹¤. ì˜í˜¼ì— ëŒ€í•œ ê¸´ë°•í•œ ë§ˆìŒê³¼ ì „ë„ì— ëŒ€í•œ ì—´ì •ì´ ìˆìœ¼ë©°, ì–´ë–¤ ìƒí™©ì—ì„œë„ ë³µìŒ ì „íŒŒì˜ ìš°ì„ ìˆœìœ„ë¥¼ ìƒì§€ ì•ŠìŠµë‹ˆë‹¤.",
                verse: "ë‚´ê°€ ë³µìŒì„ ë¶€ë„ëŸ¬ì›Œí•˜ì§€ ì•„ë‹ˆí•˜ë…¸ë‹ˆ ì´ ë³µìŒì€ ëª¨ë“  ë¯¿ëŠ” ìì—ê²Œ êµ¬ì›ì„ ì£¼ì‹œëŠ” í•˜ë‚˜ë‹˜ì˜ ëŠ¥ë ¥ì´ ë¨ì´ë¼",
                verseRef: "ë¡œë§ˆì„œ 1:16",
                tip: "ì„ êµì—ì„œ ì „ë„ì˜ ì—´ì •ì„ ìœ ì§€í•˜ë˜, í˜„ì§€ ë¬¸í™”ì™€ êµíšŒì˜ ìƒí™©ë„ ì¡´ì¤‘í•´ì£¼ì„¸ìš”. ê²°ì‹ ìë“¤ì´ ì—°ê³„ êµíšŒì— ì˜ ì •ì°©í•  ìˆ˜ ìˆë„ë¡ ì—°ê²°í•´ì£¼ëŠ” ê²ƒë„ ì¤‘ìš”í•©ë‹ˆë‹¤."
            },
            participatory: {
                icon: "ğŸŒ", name: "ì°¸ì—¬ ì„ êµ", englishName: "Participatory Mission",
                summary: "í•˜ë‚˜ë‹˜ì˜ ì„ êµì— ì „ì¸ì ìœ¼ë¡œ ë™ì°¸í•˜ëŠ” ì„ êµì",
                feature: "ì°¸ì—¬ ì„ êµ DNAëŠ” ì„ êµë¥¼ í•˜ë‚˜ë‹˜ì˜ ì „ì²´ì ì¸ êµ¬ì† ì‚¬ì—­ì— ì°¸ì—¬í•˜ëŠ” ê²ƒìœ¼ë¡œ ì´í•´í•©ë‹ˆë‹¤. ë³µìŒ ì„ í¬ë¿ ì•„ë‹ˆë¼ ì°½ì¡° ì„¸ê³„ ëŒë´„, ì •ì˜ ì‹¤í˜„, ê°€ë‚œí•œ ì ì„¬ê¹€ ë“± í•˜ë‚˜ë‹˜ì˜ ëª¨ë“  ì‚¬ì—­ì— ë™ì°¸í•©ë‹ˆë‹¤.",
                strength: "ë‹¹ì‹ ì€ ì„ êµë¥¼ í­ë„“ê²Œ ì´í•´í•˜ê³  ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ í•˜ë‚˜ë‹˜ì˜ ì‚¬ë‘ì„ ì‹¤ì²œí•©ë‹ˆë‹¤. ë§ê³¼ í–‰ë™ì˜ ê· í˜•ì„ ì´ë£¨ë©°, ì§€ì—­ ì‚¬íšŒì˜ ì‹¤ì œì  í•„ìš”ë¥¼ ì±„ìš°ëŠ” ë° ê´€ì‹¬ì´ ë§ìŠµë‹ˆë‹¤.",
                verse: "ê·¸ê°€ ë„¤ê²Œ ì„ í•œ ê²ƒì´ ë¬´ì—‡ì„ì„ ë³´ì´ì…¨ë‚˜ë‹ˆ ì—¬í˜¸ì™€ê»˜ì„œ ë„¤ê²Œ êµ¬í•˜ì‹œëŠ” ê²ƒì€ ì˜¤ì§ ì •ì˜ë¥¼ í–‰í•˜ë©° ì¸ìë¥¼ ì‚¬ë‘í•˜ë©° ê²¸ì†í•˜ê²Œ ë„¤ í•˜ë‚˜ë‹˜ê³¼ í•¨ê»˜ í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆëƒ",
                verseRef: "ë¯¸ê°€ 6:8",
                tip: "ë‹¤ì–‘í•œ ë´‰ì‚¬ í™œë™ì— ì°¸ì—¬í•˜ë©´ì„œë„ ë³µìŒ ì „íŒŒì˜ ê¸°íšŒë¥¼ ë†“ì¹˜ì§€ ë§ˆì„¸ìš”. ë‹¹ì‹ ì˜ ì„¬ê¹€ì´ í•˜ë‚˜ë‹˜ì˜ ì‚¬ë‘ì„ ë“œëŸ¬ë‚´ëŠ” í†µë¡œê°€ ë  ë•Œ, ìì—°ìŠ¤ëŸ¬ìš´ ë³µìŒ ì¦ê±°ê°€ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤."
            },
            contextual: {
                icon: "ğŸª´", name: "ìƒí™© ì„ êµ", englishName: "Contextual Mission",
                summary: "ë¬¸í™”ë¥¼ ì´í•´í•˜ê³  ìƒí™©ì— ë§ê²Œ ë³µìŒì„ ì „í•˜ëŠ” ì„ êµì",
                feature: "ìƒí™© ì„ êµ DNAëŠ” ë³µìŒì´ ê° ë¬¸í™”ì™€ ìƒí™© ì†ì—ì„œ ìƒˆë¡­ê²Œ í‘œí˜„ë˜ì–´ì•¼ í•œë‹¤ê³  ë¯¿ìŠµë‹ˆë‹¤. í˜„ì§€ì˜ ì–¸ì–´, ë¬¸í™”, ì¢…êµì  ë°°ê²½ì„ ê¹Šì´ ì´í•´í•˜ê³ , ê·¸ ë§¥ë½ ì•ˆì—ì„œ ë³µìŒì˜ ì˜ë¯¸ë¥¼ ë°œê²¬í•˜ê³  ì „ë‹¬í•©ë‹ˆë‹¤.",
                strength: "ë‹¹ì‹ ì€ ë¬¸í™”ì— ëŒ€í•œ ë¯¼ê°ì„±ê³¼ í•™ìŠµ ëŠ¥ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤. í˜„ì§€ì¸ì˜ ê´€ì ì—ì„œ ìƒê°í•˜ê³  ì†Œí†µí•˜ë ¤ëŠ” ë…¸ë ¥ì„ ì•„ë¼ì§€ ì•Šìœ¼ë©°, ë³µìŒì´ ê·¸ ë¬¸í™” ì•ˆì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ë¿Œë¦¬ë‚´ë¦¬ë„ë¡ ë•ìŠµë‹ˆë‹¤.",
                verse: "ìœ ëŒ€ì¸ë“¤ì—ê²Œ ë‚´ê°€ ìœ ëŒ€ì¸ê³¼ ê°™ì´ ëœ ê²ƒì€ ìœ ëŒ€ì¸ë“¤ì„ ì–»ê³ ì í•¨ì´ìš”... ë‚´ê°€ ëª¨ë“  ì‚¬ëŒì—ê²Œ ëª¨ë“  ê²ƒì´ ëœ ê²ƒì€ ì•„ë¬´ìª¼ë¡ ëª‡ ì‚¬ëŒì´ë¼ë„ êµ¬ì›í•˜ê³ ì í•¨ì´ë‹ˆ",
                verseRef: "ê³ ë¦°ë„ì „ì„œ 9:20,22",
                tip: "ë¬¸í™” ì´í•´ì— ì‹œê°„ì„ íˆ¬ìí•˜ë˜, ì§§ì€ ê¸°ê°„ ì•ˆì— ëª¨ë“  ê²ƒì„ ì´í•´í•˜ë ¤ í•˜ì§€ ë§ˆì„¸ìš”. ê²¸ì†í•œ í•™ìŠµìì˜ ìì„¸ë¡œ í˜„ì§€ì¸ë“¤ì—ê²Œ ë°°ìš°ë©´ì„œ, ë³µìŒì˜ ë³¸ì§ˆì€ ë†“ì¹˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì„¸ìš”."
            },
            sacramental: {
                icon: "ğŸ", name: "ì„±ë¡€ ì„ êµ", englishName: "Sacramental Mission",
                summary: "êµíšŒ ê³µë™ì²´ë¥¼ í†µí•´ í•˜ë‚˜ë‹˜ ë‚˜ë¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ì„ êµì",
                feature: "ì„±ë¡€ ì„ êµ DNAëŠ” êµíšŒ ìì²´ê°€ ì„¸ìƒì— ë³´ë‚´ì§„ í•˜ë‚˜ë‹˜ ë‚˜ë¼ì˜ í‘œì§•ì´ë¼ê³  ë¯¿ìŠµë‹ˆë‹¤. ì„¸ë¡€ì™€ ì„±ì°¬ì„ í†µí•œ ê³µë™ì²´ì  ì‚¶, ì˜ˆë°°ì™€ êµì œë¥¼ í†µí•œ í•˜ë‚˜ë¨ì´ ì„ êµì˜ í•µì‹¬ì…ë‹ˆë‹¤.",
                strength: "ë‹¹ì‹ ì€ ê³µë™ì²´ì˜ ê°€ì¹˜ì™€ ì˜ˆë°°ì˜ ëŠ¥ë ¥ì„ ê¹Šì´ ì´í•´í•©ë‹ˆë‹¤. íŒ€ì˜ ì˜ì  ë¶„ìœ„ê¸°ë¥¼ ì´ëŒê³  í˜„ì§€ êµíšŒì™€ì˜ ì—°í•©ì„ ì¶”êµ¬í•©ë‹ˆë‹¤.",
                verse: "ê·¸ë“¤ì´ ì‚¬ë„ì˜ ê°€ë¥´ì¹¨ì„ ë°›ì•„ ì„œë¡œ êµì œí•˜ê³  ë–¡ì„ ë–¼ë©° ì˜¤ë¡œì§€ ê¸°ë„í•˜ê¸°ë¥¼ í˜ì“°ë‹ˆë¼",
                verseRef: "ì‚¬ë„í–‰ì „ 2:42",
                tip: "ì˜ˆë°°ì™€ êµì œë¥¼ í†µí•´ íŒ€ì˜ ì˜ì  ê±´ê°•ì„ ëŒë³´ë©´ì„œë„, ì„ êµì§€ì—ì„œì˜ êµ¬ì²´ì ì¸ ì‚¬ì—­ì—ë„ ì ê·¹ ì°¸ì—¬í•˜ì„¸ìš”. ì—°ê³„ êµíšŒì™€ì˜ ì—°í•©ì´ ì§€ì†ì ì¸ ê´€ê³„ë¡œ ì´ì–´ì§€ë„ë¡ ë…¸ë ¥í•˜ì„¸ìš”."
            }
        };

        var currentQuestion = 0;
        var answers = { soteriological: 0, participatory: 0, contextual: 0, sacramental: 0 };

        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById('show-all-btn').addEventListener('click', showAllTypes);
            document.getElementById('restart-btn').addEventListener('click', restartTest);
            document.getElementById('modal-close-btn').addEventListener('click', closeModal);
            document.getElementById('save-image-btn').addEventListener('click', saveAsImage);
            document.getElementById('share-btn').addEventListener('click', shareResult);
            document.getElementById('modal-overlay').addEventListener('click', function (e) {
                if (e.target === document.getElementById('modal-overlay')) closeModal();
            });
            document.getElementById('modal-content').addEventListener('click', function (e) { e.stopPropagation(); });
            document.addEventListener('keydown', function (e) { if (e.key === 'Escape') closeModal(); });
        });

        function startTest() {
            currentQuestion = 0;
            answers = { soteriological: 0, participatory: 0, contextual: 0, sacramental: 0 };
            showScreen('question-screen');
            displayQuestion();
        }

        function showScreen(screenId) {
            var screens = document.querySelectorAll('.screen');
            for (var i = 0; i < screens.length; i++) screens[i].classList.remove('active');
            document.getElementById(screenId).classList.add('active');
        }

        function displayQuestion() {
            var q = questions[currentQuestion];
            document.getElementById('current-q').textContent = String(currentQuestion + 1).padStart(2, '0');
            document.getElementById('progress-fill').style.width = ((currentQuestion + 1) / questions.length * 100) + '%';
            document.getElementById('question-text').textContent = q.text;
            var container = document.getElementById('options-container');
            container.innerHTML = '';
            var shuffled = q.options.slice().sort(function () { return Math.random() - 0.5; });
            for (var i = 0; i < shuffled.length; i++) {
                var opt = shuffled[i];
                var btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = opt.text;
                btn.setAttribute('data-type', opt.type);
                btn.addEventListener('click', function () { selectOption(this.getAttribute('data-type')); });
                container.appendChild(btn);
            }
        }

        function selectOption(type) {
            answers[type]++;
            if (currentQuestion < questions.length - 1) { currentQuestion++; setTimeout(displayQuestion, 150); }
            else { showLoading(); }
        }

        function showLoading() { showScreen('loading-screen'); setTimeout(showResult, 2500); }

        function showResult() {
            var maxType = 'soteriological', maxScore = 0;
            for (var type in answers) { if (answers[type] > maxScore) { maxScore = answers[type]; maxType = type; } }
            var result = missionTypes[maxType];
            document.getElementById('result-icon').textContent = result.icon;
            document.getElementById('result-badge').textContent = result.englishName;
            document.getElementById('result-badge').className = 'result-badge ' + maxType;
            document.getElementById('result-type').textContent = result.name;
            document.getElementById('result-type').className = 'result-type ' + maxType;
            document.getElementById('result-summary').textContent = '"' + result.summary + '"';
            document.getElementById('result-feature').textContent = result.feature;
            document.getElementById('result-strength').textContent = result.strength;
            document.getElementById('result-verse-text').textContent = '"' + result.verse + '"';
            document.getElementById('result-verse-ref').textContent = 'â€” ' + result.verseRef;
            document.getElementById('result-tip').textContent = result.tip;
            showScreen('result-screen');
        }

        function showAllTypes() {
            var container = document.getElementById('all-types-container');
            container.innerHTML = '';
            for (var key in missionTypes) {
                var type = missionTypes[key];
                var card = document.createElement('div');
                card.className = 'type-card ' + key;
                card.style.cursor = 'pointer';
                card.onclick = function () { toggleTypeDetail(this); };
                card.innerHTML =
                    '<div class="type-card-header">' +
                    '<span class="type-card-icon">' + type.icon + '</span>' +
                    '<span class="type-card-name ' + key + '">' + type.name + '</span>' +
                    '</div>' +
                    '<p class="type-card-desc">' + type.summary + '</p>' +
                    '<div class="type-detail" style="display:none; margin-top:16px;">' +
                    '<div class="result-section"><div class="result-section-title">ğŸ“– ì´ DNAì˜ íŠ¹ì§•</div><p class="result-section-content">' + type.feature + '</p></div>' +
                    '<div class="result-section"><div class="result-section-title">ğŸ’ª ê°•ì </div><p class="result-section-content">' + type.strength + '</p></div>' +
                    '<div class="result-verse" style="margin:12px 0;"><p class="result-verse-text">"' + type.verse + '"</p><p class="result-verse-ref">â€” ' + type.verseRef + '</p></div>' +
                    '<div class="result-tip"><div class="result-tip-title">ğŸ’¡ ì„ êµ Tip</div><p class="result-tip-content">' + type.tip + '</p></div>' +
                    '</div>';
                container.appendChild(card);
            }
            document.getElementById('modal-overlay').classList.add('active');
        }

        function toggleTypeDetail(card) {
            var detail = card.querySelector('.type-detail');
            if (detail.style.display === 'none') {
                detail.style.display = 'block';
            } else {
                detail.style.display = 'none';
            }
        }

        function saveAsImage() {
            var resultCard = document.getElementById('result-card');
            html2canvas(resultCard, {
                backgroundColor: '#fdf6e9',
                scale: 2
            }).then(function (canvas) {
                var link = document.createElement('a');
                link.download = 'ë‚˜ì˜_ì„ êµDNA_ê²°ê³¼.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
        }

        function shareResult() {
            var resultType = document.getElementById('result-type').textContent;
            var resultSummary = document.getElementById('result-summary').textContent;
            var shareText = 'ğŸŒ ë‚˜ì˜ ì„ êµ DNA: ' + resultType + '\n' + resultSummary + '\n\në‚˜ë„ í…ŒìŠ¤íŠ¸ í•´ë³´ê¸° ğŸ‘‰';
            var shareUrl = window.location.href;

            if (navigator.share) {
                navigator.share({
                    title: '4ê°€ì§€ ì„ êµ DNA í…ŒìŠ¤íŠ¸',
                    text: shareText,
                    url: shareUrl
                });
            } else {
                navigator.clipboard.writeText(shareText + ' ' + shareUrl).then(function () {
                    alert('ê³µìœ  ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“‹');
                });
            }
        }

        function closeModal() { document.getElementById('modal-overlay').classList.remove('active'); }
        function restartTest() { showScreen('landing-screen'); }
    </script>
</body>

</html>